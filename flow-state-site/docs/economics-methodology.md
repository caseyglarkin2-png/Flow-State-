# YardFlow by FreightRoll Economics Methodology

**Version:** 2.0  
**Last Updated:** January 5, 2026  
**Engine Source:** `src/lib/economics/`

---

## Executive Summary

All ROI projections, network effect calculations, and cost-of-delay figures on the YardFlow by FreightRoll site are generated by a **single canonical economics engine**. This ensures:

1. **Consistency** — Every page shows the same numbers for the same inputs
2. **Transparency** — All assumptions are explicit and adjustable
3. **Defensibility** — CFOs can validate the math independently

**Important:** All figures are **modeled estimates** based on industry benchmarks and user-provided assumptions. Actual results will vary.

---

## 1. Core Value Streams

The economics engine calculates value across four primary streams:

| Stream | Source | Measurement |
|--------|--------|-------------|
| **Labor Savings** | Gate automation reduces FTE requirements | Hard $ (payroll) |
| **Detention Recovery** | Defensible timestamps reduce disputes/claims | Hard $ (recovered) |
| **Paperless Operations** | Digital BOL eliminates paper handling | Hard $ (eliminated cost) |
| **Throughput Lift** | Faster cycle times unlock capacity | Modeled opportunity |

### 1.1 Labor Savings

```
Annual Labor Savings = 
  Σ (FTEs Reduced per Facility × Annual FTE Cost × Facilities in Tier)
```

**Key Assumptions:**
- FTE reduction varies by facility size (XL: 1.0, L: 0.8, M: 0.6, S: 0.4)
- Annual FTE cost default: $60,000 (adjustable)
- Reduction only claims ~50% of theoretical gate FTE savings (conservative)

### 1.2 Detention Recovery

```
Annual Detention Savings = 
  Total Shipments × Exception Rate × Detention Cost per Event × Recovery Rate
```

**Key Assumptions:**
- Exception rate: 5-15% of loads (user-adjustable)
- Detention cost per event: $75-$200 (user-adjustable)
- Recovery rate: 65% of theoretical (conservative)
- Only counts loads where YardFlow by FreightRoll provides defensible timestamps

### 1.3 Paperless Savings

```
Paperless Savings = 
  Total Shipments × Paper Handling Cost per Load
```

**Key Assumptions:**
- Paper handling cost: $2-5 per load (printing, filing, retrieval, errors)
- Includes time spent on paper BOL errors, lost documents, manual entry

### 1.4 Throughput Lift (Capacity Unlocked)

```
Theoretical Throughput Gain % = 
  (Baseline Cycle Time / Improved Cycle Time) - 1

Realized Gain % = 
  Theoretical Gain × Realization Factor (typically 50-70%)

Incremental Truckloads/Year = 
  Current Outbound Volume × Realized Gain %

Annual Profit Impact = 
  Incremental Truckloads × Contribution Margin per Truckload
```

**Key Assumptions:**
- Baseline cycle time: Average gate-in to gate-out (typically 45-60 min)
- Minutes saved: Check-in reduction + check-out reduction (typically 15-25 min)
- Realization factor: Only 50-70% of theoretical gain is captured
- Contribution margin: $150-$300 per truckload (user-adjustable)
- Only outbound loads count for capacity (inbound doesn't unlock revenue)

---

## 2. Network Effect Model

The network effect quantifies how value compounds as more facilities join the network. This is based on a **Metcalfe-inspired, realization-adjusted formula**.

### 2.1 Core Formula

```
Connectivity Potential:    C(n) = n(n-1) / 2
Realization Factor:        R(n) = 1 - exp(-n/τ)
Network Multiplier:        M(n) = 1 + β × (C(n)/C₀) × R(n)
Network Bonus:             NetworkBonus = BaseSavings × (M(n) - 1)
Total Annual Savings:      TotalSavings = BaseSavings + NetworkBonus
```

### 2.2 Parameters

| Parameter | Symbol | Conservative | Expected | Upside | Description |
|-----------|--------|--------------|----------|--------|-------------|
| Network strength | β | 0.018 | 0.025 | 0.032 | How strongly value scales with connectivity |
| Maturity constant | τ | 60 | 50 | 40 | Facilities needed for 63% realization |
| Baseline facilities | n₀ | 10 | 10 | 10 | Reference point for multiplier normalization |

### 2.3 Interpretation

**Why Metcalfe-inspired?**
- The classical Metcalfe formula (n²) assumes every node connects to every other node equally
- In yard orchestration, value is realized through:
  - Standardized playbooks across sites
  - Shared exception handling workflows
  - Network-wide visibility for planning
  - Faster rollouts to additional sites

**Why realization-adjusted?**
- Not all theoretical connectivity value is captured immediately
- R(n) models the "maturity curve" — value compounds faster as the network grows
- τ parameter controls how quickly the network reaches maturity

### 2.4 Example Calculation

For a 50-facility network (expected scenario):

```
C(50) = 50 × 49 / 2 = 1,225 connections
C₀ = C(10) = 10 × 9 / 2 = 45 connections
R(50) = 1 - exp(-50/50) = 1 - 0.368 = 0.632

M(50) = 1 + 0.025 × (1225/45) × 0.632
      = 1 + 0.025 × 27.22 × 0.632
      = 1 + 0.43
      = 1.43×

If BaseSavings = $2,000,000:
  NetworkBonus = $2,000,000 × 0.43 = $860,000
  TotalSavings = $2,860,000
```

---

## 3. Financial Outputs

### 3.1 Year-1 ROI

```
Year-1 ROI % = 
  (Year-1 Gross Savings - Annual Subscription) / Total Investment × 100

Where:
  Total Investment = Implementation Cost + Year-1 Subscription
```

**Year-1 Ramp Factor:**
- Year-1 savings are ramped by a rollout factor (default: 5-10%)
- This accounts for phased deployment across the network
- Full steady-state savings are not achieved until Year 2+

### 3.2 Payback Period

```
Payback Months = 
  Total Investment / (Annual Savings / 12)
```

### 3.3 5-Year NPV

```
NPV = -Implementation + Σ (CashFlow_t / (1 + r)^t)

Where:
  CashFlow_t = (AnnualSavings × (1 + g)^(t-1)) - AnnualSubscription
  r = Discount rate (default: 10%)
  g = Growth rate (default: 2%)
```

### 3.4 Cost of Delay

```
Cost of Delay (90 days) = Year-1 Gross Savings / 4
```

This represents the opportunity cost of waiting 90 days to begin implementation.

---

## 4. Pricing Model

### 4.1 Subscription

```
Annual Subscription = Contracted Facilities × Per-Facility Rate
```

**Per-Facility Rate:**
- Range: $5,000 - $15,000 per facility per year
- Rate depends on facility tier, volume, and contract terms
- Default for modeling: $8,000/facility

### 4.2 Implementation

```
Implementation Cost = Facilities × Per-Facility Implementation
```

**Per-Facility Implementation:**
- Default: $2,500 per facility (one-time)
- Includes deployment, configuration, training

---

## 5. Scenario Modes

The economics engine supports three scenarios for sensitivity analysis:

| Mode | Description | Assumptions |
|------|-------------|-------------|
| **Conservative** | Low end of ranges, high discount | Lower reduction rates, lower recovery |
| **Expected** | Middle of ranges, standard discount | Base case assumptions |
| **Upside** | High end of ranges, optimistic | Higher reduction rates, higher recovery |

### Example: 50-Facility Enterprise

| Metric | Conservative | Expected | Upside |
|--------|--------------|----------|--------|
| Year-1 Gross Savings | $1.2M | $1.8M | $2.5M |
| Network Multiplier | 1.25× | 1.43× | 1.65× |
| Year-1 ROI | 45% | 78% | 120% |
| Payback | 14 mo | 9 mo | 6 mo |

---

## 6. Congruence Guarantee

All YardFlow by FreightRoll pages that display ROI or network effect figures call the same functions:

| Page | Function | Input Source |
|------|----------|--------------|
| Home | `calcRoiV2()` | Default preset |
| ROI Calculator | `calcScenario()` | User inputs |
| Network Effect | `calcScenario()` | Facility slider + scenario |
| Diagnostic | `calcScenario()` | Diagnostic inputs |
| Board PDF | `calcScenario()` | User inputs |

**Congruence Test:** `npm test` includes assertions that verify all surfaces produce identical outputs for identical inputs.

---

## 7. Limitations & Disclaimers

1. **All figures are modeled estimates** — not guarantees
2. **Actual results depend on** — facility characteristics, operational maturity, adoption rate
3. **Throughput lift is opportunity value** — requires operational changes to realize
4. **Network effect assumes** — standardized rollout across sites
5. **Past performance** — not indicative of future results

---

## Appendix A: Default Assumptions Table

| Assumption | Conservative | Expected | Upside | Unit |
|------------|--------------|----------|--------|------|
| FTE reduction per XL facility | 0.8 | 1.0 | 1.2 | FTEs |
| FTE annual cost | $55,000 | $60,000 | $65,000 | USD |
| Exception rate | 5% | 10% | 15% | % of loads |
| Detention cost per event | $75 | $125 | $200 | USD |
| Detention recovery rate | 50% | 65% | 80% | % |
| Check-in time reduction | 10 | 15 | 20 | minutes |
| Check-out time reduction | 5 | 8 | 12 | minutes |
| Throughput realization | 50% | 60% | 70% | % |
| Contribution margin per TL | $150 | $200 | $300 | USD |
| Discount rate | 12% | 10% | 8% | % |
| Year-1 ramp | 5% | 5% | 10% | % of network |

---

## Appendix B: Source Code Reference

```
src/lib/economics/
├── index.ts           # Main exports
├── roi.ts             # calcRoiV2() - core ROI calculation
├── roiTypes.ts        # TypeScript types for ROI inputs/outputs
├── model.ts           # calcScenario() - unified scenario calculator
├── networkEffect.ts   # metcalfeInspiredMultiplier() - network formula
├── presets.ts         # Enterprise/regional presets
├── types.ts           # Shared types
├── format.ts          # money(), truckloads() formatters
└── validate.ts        # Output validation
```
